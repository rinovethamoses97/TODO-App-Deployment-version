(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,a){e.exports=a(66)},66:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(29),o=a.n(r),l=a(3),c=a(4),i=a(7),u=a(5),m=a(6),d=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).state={},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("h1",null,"Todo List App"),s.a.createElement("a",{href:"/about"},"About"),s.a.createElement("br",null),s.a.createElement("a",{href:"/login"},"Login"),s.a.createElement("br",null),s.a.createElement("a",{href:"/signup"},"Signup"),s.a.createElement("br",null))}}]),t}(n.Component),h=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"container"},s.a.createElement(d,null))}}]),t}(n.Component),p=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"container"},s.a.createElement("p",null,"Developed by Rino"))}}]),t}(n.Component),g=a(11),v=a.n(g),b=a(14),E=a(12),f=a.n(E),w=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this))).handleChange=function(e){a.setState({content:e.target.value})},a.signout=function(){a.setState({login:!1}),f.a.remove("username",{path:"/"})},a.update=function(e){var t=document.getElementById(e.target.id+"content").innerHTML,a=e.target.id;v.a.post("/update",{id:a,content:t}).then(function(e){"success"===e.data.status?alert("Todo Updated"):console.log("Error")})},a.deletePost=function(e){var t=e.target.id;v.a.post("/deleteContent",{id:e.target.id}).then(function(e){if("success"===e.data.status){console.log("Todo Deleted");for(var n=a.state.todo,s=0;s<n.length;s++)n[s]._id===t&&(n[s].status=!1);a.setState({todo:n})}else console.log("Error")})},a.state={content:"",todo:[],login:!0,username:e.username},a.componentWillMount=a.componentWillMount.bind(Object(b.a)(a)),a.saveContent=a.saveContent.bind(Object(b.a)(a)),a.handleChange=a.handleChange.bind(Object(b.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){console.log("Getting the todolist from db");var e=this;v.a.post("/getContent",{username:this.state.username}).then(function(t){if("success"===t.data.status){var a=t.data.data;console.log(a);for(var n=0;n<a.length;n++)a[n].status=!0;e.setState({todo:t.data.data})}else alert("Error")})}},{key:"saveContent",value:function(){console.log(this.state.content);var e=this;v.a.post("/addContent",{username:this.state.username,content:this.state.content}).then(function(t){if("success"===t.data.status){alert("Todo added");var a=e.state.todo,n=t.data.data;n.status=!0,a.push(n),e.setState({content:"",todo:a})}else alert("Error")})}},{key:"render",value:function(){var e=this;return this.state.login?s.a.createElement("div",null,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-12"},"Welcome ",this.state.username)),this.state.todo.map(function(t){if(t.status){var a=new Date(t.timeStamp);return s.a.createElement("div",{className:"row",key:t._id},s.a.createElement("div",{className:"col-sm-12"},s.a.createElement("div",{className:"alert alert-success"},s.a.createElement("div",{id:t._id+"content",contentEditable:"true"},t.content),s.a.createElement("span",{id:t._id,style:{float:"right",cursor:"pointer"},onClick:e.deletePost},"X"),s.a.createElement("br",null),s.a.createElement("span",{style:{fontWeight:"bold",fontStyle:"oblique"}},"Posted on: ",a.getDate(),"-",a.getMonth(),"-",a.getFullYear()),s.a.createElement("span",{onClick:e.update,id:t._id,style:{cursor:"pointer",float:"right"}},"Update"))))}return s.a.createElement("div",{className:"row",key:t._id},s.a.createElement("div",{className:"col-sm-12"},s.a.createElement("div",{className:"alert alert-danger",style:{textDecoration:"line-through"}},t.content)))}),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-8"},s.a.createElement("input",{type:"text",className:"form-control",value:this.state.content,placeholder:"Enter the ToDo",onChange:this.handleChange})),s.a.createElement("div",{className:"col-sm-2"},s.a.createElement("button",{className:"btn btn-primary",onClick:this.saveContent},"Post")),s.a.createElement("div",{className:"col-sm-2"},s.a.createElement("button",{className:"btn btn-primary",onClick:this.signout},"Signout")))):s.a.createElement(C,null)}}]),t}(n.Component),C=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).handleUsernameChange=function(t){e.setState({username:t.target.value})},e.handlePasswordChange=function(t){e.setState({password:t.target.value})},e.componentWillMount=function(){void 0!==f.a.load("username")&&e.setState({login:!0,username:f.a.load("username")})},e.handleSubmit=function(t){t.preventDefault(),console.log(e.state),v.a.post("/login",{username:e.state.username,password:e.state.password}).then(function(t){"success"===t.data.status?t.data.login?(console.log("Login Success"),e.setState({error:null,login:!0}),f.a.save("username",e.state.username,{path:"/"})):(console.log("Login Failed"),e.setState({error:"User Not Exist"}),e.setState({login:!1})):console.log("Error")})},e.state={username:"",password:"",error:null,login:!1},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state.error?s.a.createElement("span",{style:{color:"red"},className:"error-message"},this.state.error):null;return this.state.login?s.a.createElement("div",{className:"container"},s.a.createElement(w,{username:this.state.username})):s.a.createElement("div",{className:"container"},s.a.createElement("form",{onSubmit:this.handleSubmit},e,s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"username"},"Username:"),s.a.createElement("input",{id:"username",type:"text",className:"form-control",required:!0,value:this.state.username,onChange:this.handleUsernameChange})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"password"},"Password:"),s.a.createElement("input",{id:"password",className:"form-control",type:"password",required:!0,value:this.state.password,onChange:this.handlePasswordChange})),s.a.createElement("input",{className:"btn btn-primary",id:"submit",type:"submit",value:"Submit"})))}}]),t}(n.Component),y=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).handleUsernameChange=function(t){e.setState({username:t.target.value})},e.handlePasswordChange=function(t){e.setState({password:t.target.value})},e.handlerePasswordChange=function(t){e.setState({repassword:t.target.value})},e.componentWillMount=function(){void 0!==f.a.load("username")&&e.setState({login:!0,username:f.a.load("username")})},e.handleSubmit=function(t){t.preventDefault(),console.log(e.state),e.state.password!==e.state.repassword?e.setState({error:"Passwords Does not match"}):(e.setState({error:null}),v.a.post("/addUser",{username:e.state.username,password:e.state.password}).then(function(t){"success"===t.data.status?(alert("User Registered!! Login to continue"),e.setState({login:!0})):console.log("Error")}))},e.state={username:"",password:"",repassword:"",error:null,login:!1},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state.error?s.a.createElement("span",{style:{color:"red"},className:"error-message"},this.state.error):null;if(!this.state.login)return s.a.createElement("div",{className:"container"},s.a.createElement("form",{onSubmit:this.handleSubmit},e,s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"username"},"Username:"),s.a.createElement("input",{id:"username",type:"text",className:"form-control",required:!0,value:this.state.username,onChange:this.handleUsernameChange})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"password"},"Password:"),s.a.createElement("input",{id:"password",className:"form-control",type:"password",required:!0,value:this.state.password,onChange:this.handlePasswordChange})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"repassword"},"Reenter Password:"),s.a.createElement("input",{id:"repassword",className:"form-control",type:"password",required:!0,value:this.state.repassword,onChange:this.handlerePasswordChange})),s.a.createElement("input",{className:"btn btn-primary",id:"submit",type:"submit",value:"Signup"})));window.location="/login"}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(57);var N=a(30),j=a(13);o.a.render(s.a.createElement(N.a,null,s.a.createElement(j.a,{exact:!0,path:"/",component:h}),s.a.createElement(j.a,{exact:!0,path:"/about",component:p}),s.a.createElement(j.a,{exact:!0,path:"/login",component:C}),s.a.createElement(j.a,{exact:!0,path:"/signup",component:y})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[33,1,2]]]);
//# sourceMappingURL=main.c871f569.chunk.js.map